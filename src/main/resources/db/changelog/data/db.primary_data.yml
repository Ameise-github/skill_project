# У всех юзеров пароль 1234567890
databaseChangeLog:
  - logicalFilePath: db/changelog/data/db.primary_data.yaml
  - changeSet:
      id: data_1
      author: alexa
      comment: "Create users"
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: name
                  value: "user 1"
              - column:
                  name: password
                  value: "$2a$12$u/d8DyPnS0YMbt3Slw38UO.x2iRKBFJ7DYmZnnNrn2gMYNt97yNSy"
              - column:
                  name: is_moderator
                  valueBoolean: false
              - column:
                  name: reg_time
                  valueDate: "now()"
              - column:
                  name: email
                  value: "user_1@mail.ru"
        - insert:
            tableName: users
            columns:
              - column:
                  name: name
                  value: "user 2"
              - column:
                  name: password
                  value: "$2a$12$u/d8DyPnS0YMbt3Slw38UO.x2iRKBFJ7DYmZnnNrn2gMYNt97yNSy"
              - column:
                  name: is_moderator
                  valueBoolean: true
              - column:
                  name: reg_time
                  valueDate: "now()"
              - column:
                  name: email
                  value: "user_2@mail.ru"
        - insert:
            tableName: users
            columns:
              - column:
                  name: name
                  value: "user 3"
              - column:
                  name: password
                  value: "$2a$12$u/d8DyPnS0YMbt3Slw38UO.x2iRKBFJ7DYmZnnNrn2gMYNt97yNSy"
              - column:
                  name: is_moderator
                  valueBoolean: false
              - column:
                  name: reg_time
                  valueDate: "now()"
              - column:
                  name: email
                  value: "user_3@mail.ru"
        - insert:
            tableName: users
            columns:
              - column:
                  name: name
                  value: "user 4"
              - column:
                  name: password
                  value: "$2a$12$u/d8DyPnS0YMbt3Slw38UO.x2iRKBFJ7DYmZnnNrn2gMYNt97yNSy"
              - column:
                  name: is_moderator
                  valueBoolean: true
              - column:
                  name: reg_time
                  valueDate: "now()"
              - column:
                  name: email
                  value: "user_4@mail.ru"

  - changeSet:
      id: data_3
      author: alexa
      comment: "Create tag"
      changes:
        - insert:
            tableName: tags
            columns:
              - column:
                  name: name
                  value: "news"
        - insert:
            tableName: tags
            columns:
              - column:
                  name: name
                  value: "weather"
        - insert:
            tableName: tags
            columns:
              - column:
                  name: name
                  value: "animal"
        - insert:
            tableName: tags
            columns:
              - column:
                  name: name
                  value: "dog"
        - insert:
            tableName: tags
            columns:
              - column:
                  name: name
                  value: "sweets"


  - changeSet:
      id: data_4
      author: alexa
      comment: "Create comments"
      changes:
        - insert:
            tableName: post_comments
            columns:
              - column:
                  name: post_id
                  value: "1"
              - column:
                  name: user_id
                  value: "3"
              - column:
                  name: time
#                  valueDate: "now() + interval '5 hours'"
                  valueDate: "now()"
              - column:
                  name: text
                  value: "new comment 1 for post 1"
        - insert:
            tableName: post_comments
            columns:
              - column:
                  name: post_id
                  value: "2"
              - column:
                  name: user_id
                  value: "2"
              - column:
                  name: time
                  valueDate: "now()"
              - column:
                  name: text
                  value: "new comment 2 for post 2"
        - insert:
            tableName: post_comments
            columns:
              - column:
                  name: post_id
                  value: "2"
              - column:
                  name: user_id
                  value: "1"
              - column:
                  name: time
                  valueDate: "now()"
              - column:
                  name: text
                  value: "new comment 3 for post 2"